<script>
import PartialLoader from 'js/components/UI/PartialLoader';
import {
    computed, defineComponent, onMounted, ref
} from 'vue';
import { useStore } from 'js/store';

export default defineComponent({
    name: 'variant-content-contacts',
    components: {
        PartialLoader
    },
    props: {
        productLine: {
            type: String,
            required: true
        },
        translations: {
            type: Object,
            required: true
        }
    },
    setup(props) {
        const store = useStore();
        const fetchingItemContacts = ref(true);
        const internalItemContacts = computed(() => store.getters.internalItemContacts);
        const dotTeamUrl = computed(() => store.getters.dotTeamUrl);
        const isUserEmployee = computed(() => store.getters.isUserEmployee);

        onMounted(() => {
            store.dispatch('getDotInternalItemContacts', props.productLine).then(() => {
                fetchingItemContacts.value = false;
            });
        });
        return {
            fetchingItemContacts,
            internalItemContacts,
            dotTeamUrl,
            isUserEmployee
        };
    }
});
</script>